{"version":3,"file":"AuthController.js","sourceRoot":"","sources":["../../src/controllers/AuthController.ts"],"names":[],"mappings":";;;;AAAA,yCAA0F;AAC1F,yDAAoD;AACpD,6CAAuD;AACvD,yCAAoC;AAIpC,IAAa,cAAc,GAA3B,MAAa,cAAc;IACzB,YAAiC,WAAwB,IAAG,CAAC;IAI7D,KAAK,CAAQ,GAAQ,EAAgB,UAAuB;QAC1D,aAAI,CAAC,IAAI,CAAC,cAAc,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC;IACtC,CAAC;IAID,MAAM,CAAQ,GAAQ,EAAgB,IAAU;QAC9C,IAAI;YACF,aAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;SACpC;QAAC,OAAO,KAAK,EAAE;YACd,aAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;SACnB;IACH,CAAC;IAGD,UAAU,CAAc,GAAS;QAC/B,IAAI;YACF,OAAO,GAAG,CAAC;SACZ;QAAC,OAAO,KAAK,EAAE;YACd,aAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;SACnB;IACH,CAAC;IAGD,MAAM,CAAc,GAAS;QAC3B,IAAI;SACH;QAAC,OAAO,KAAK,EAAE;YACd,aAAI,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;SACnB;IACH,CAAC;CACF,CAAA;AA9BC;IAFC,aAAI,CAAC,QAAQ,CAAC;IACd,uBAAY,CAAC,OAAO,CAAC;IACf,mBAAA,YAAG,EAAE,CAAA,EAAY,mBAAA,mBAAU,EAAE,CAAA;;;;2CAEnC;AAID;IAFC,aAAI,CAAC,SAAS,CAAC;IACf,uBAAY,CAAC,QAAQ,CAAC;IACf,mBAAA,YAAG,EAAE,CAAA,EAAY,mBAAA,mBAAU,EAAE,CAAA;;qDAAO,WAAI;;4CAM/C;AAGD;IAFC,aAAI,CAAC,UAAU,CAAC;IAChB,oBAAS,CAAC,OAAO,CAAC;IACP,mBAAA,YAAG,CAAC,MAAM,CAAC,CAAA;;6CAAM,WAAI;;gDAMhC;AAGD;IAFC,aAAI,CAAC,SAAS,CAAC;IACf,oBAAS,CAAC,OAAO,CAAC;IACX,mBAAA,YAAG,CAAC,MAAM,CAAC,CAAA;;6CAAM,WAAI;;4CAK5B;AAlCU,cAAc;IAD1B,mBAAU,CAAC,EAAE,CAAC;IAEA,mBAAA,eAAM,CAAC,yBAAW,CAAC,CAAA;6CAAc,yBAAW;GAD9C,cAAc,CAmC1B;AAnCY,wCAAc","sourcesContent":["import {Controller, Inject, Post, Req, BodyParams, $log, Status, Put} from \"@tsed/common\";\r\nimport {UserService} from \"../services/UserService\";\r\nimport {Authenticate, Authorize} from \"@tsed/passport\";\r\nimport {User} from \"../models/User\";\r\nimport {ICredential} from \"../models/ICredential\";\r\n\r\n@Controller(\"\")\r\nexport class UserController {\r\n  constructor(@Inject(UserService) userService: UserService) {}\r\n\r\n  @Post(\"/login\")\r\n  @Authenticate(\"login\")\r\n  login(@Req() req: Req, @BodyParams() credential: ICredential) {\r\n    $log.info(\"here in auth\", req.user);\r\n  }\r\n\r\n  @Post(\"/signup\")\r\n  @Authenticate(\"signup\")\r\n  signUp(@Req() req: Req, @BodyParams() user: User) {\r\n    try {\r\n      $log.info(\"here in sign up\", user);\r\n    } catch (error) {\r\n      $log.error(error);\r\n    }\r\n  }\r\n  @Post(\"/session\")\r\n  @Authorize(\"basic\")\r\n  getSession(@Req(\"user\") req: User) {\r\n    try {\r\n      return req;\r\n    } catch (error) {\r\n      $log.error(error);\r\n    }\r\n  }\r\n  @Post(\"/logout\")\r\n  @Authorize(\"basic\")\r\n  logout(@Req(\"user\") req: User) {\r\n    try {\r\n    } catch (error) {\r\n      $log.error(error);\r\n    }\r\n  }\r\n}\r\n"]}